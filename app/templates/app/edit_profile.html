{% extends "app/main.html" %}

{% block main %}
    <div class="min-h-screen py-12 px-6 bg-base-200 flex justify-center">
        <div class="w-full max-w-2xl bg-base-100 rounded-2xl shadow-lg p-10 space-y-8">

            <!-- Header -->
            <div class="flex justify-between items-center">
                <h1 class="text-3xl font-bold text-indigo-600 dark:text-indigo-400">
                    {{ user.get_full_name }}
                </h1>
                <div class="space-x-2">
                    <a href="/dashboard" class="btn btn-outline-primary btn-sm">
                        <i class="fa fa-home mr-1"></i> Dashboard
                    </a>
                    <a href="/profile" class="btn btn-outline-success btn-sm">
                        <i class="fa fa-user mr-1"></i> View Profile
                    </a>
                </div>
            </div>

            <!-- Profile Update Form -->
            <form method="post" class="space-y-6">
                {% csrf_token %}
                {% for field in profile_form %}
                    <div class="form-control">
                        <label class="label">
                            <span class="label-text font-medium">{{ field.label }}</span>
                        </label>
                        {% if field.errors %}
                            <p class="text-error text-sm mb-1">{{ field.errors }}</p>
                        {% endif %}
                        {{ field.as_widget|safe }}
                        <script>
                            document.addEventListener("DOMContentLoaded", function () {
                                const input = document.getElementsByName("{{ field.name }}")[0];
                                if (input) {
                                    input.classList.add("input", "input-bordered", "w-full");
                                    if (!input.placeholder) {
                                        input.placeholder = "{{ field.label }}";
                                    }
                                }
                            });
                        </script>
                    </div>
                {% endfor %}

                <!-- Submit -->
                <div class="text-right pt-4 border-t">
                    <button type="submit" class="btn btn-primary">
                        <i class="fa fa-save mr-2"></i> Update
                    </button>
                </div>
            </form>

        </div>
    </div>
{% endblock %}
